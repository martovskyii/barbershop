<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Барбершоп у Дніпрі — Запис онлайн</title>
  <meta name="description" content="Барбершоп у Дніпрі. Запис онлайн за 30 секунд. Оберіть пакет і залиште телефон — підтвердимо час." />

  <style>
    :root{
      --bg:#0b0f14;
      --card:#111827;
      --card2:#0f172a;
      --text:#e5e7eb;
      --muted:#9ca3af;
      --accent:#22c55e;
      --accent2:#60a5fa;
      --border:rgba(255,255,255,.08);
      --shadow: 0 20px 50px rgba(0,0,0,.45);
      --radius: 18px;
      --max: 1100px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
      color:var(--text);
      background: radial-gradient(1100px 600px at 20% 10%, rgba(96,165,250,.18), transparent 60%),
                  radial-gradient(900px 500px at 80% 20%, rgba(34,197,94,.14), transparent 55%),
                  var(--bg);
      line-height:1.35;
    }
    a{color:inherit}
    .wrap{max-width:var(--max); margin:0 auto; padding:28px 18px 70px}
    header{
      display:flex; align-items:center; justify-content:space-between; gap:14px;
      padding:14px 0 22px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      font-weight:700; letter-spacing:.3px;
    }
    .logo{
      width:34px; height:34px; border-radius:10px;
      background: linear-gradient(135deg, rgba(96,165,250,.9), rgba(34,197,94,.85));
      box-shadow: 0 8px 20px rgba(0,0,0,.35);
    }
    .top-cta{
      display:flex; gap:10px; align-items:center;
    }
    .btn{
      appearance:none; border:1px solid var(--border);
      background: rgba(255,255,255,.04);
      color:var(--text);
      padding:10px 14px; border-radius:999px;
      cursor:pointer; text-decoration:none;
      transition: transform .08s ease, background .2s ease, border-color .2s ease;
      display:inline-flex; align-items:center; gap:8px;
      font-weight:600;
    }
    .btn:hover{background: rgba(255,255,255,.07); border-color: rgba(255,255,255,.14)}
    .btn:active{transform: translateY(1px)}
    .btn.primary{
      border-color: rgba(34,197,94,.35);
      background: rgba(34,197,94,.16);
    }
    .btn.primary:hover{background: rgba(34,197,94,.22)}
    .hero{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:18px;
      align-items:stretch;
      margin-top:10px;
    }
    @media (max-width: 900px){
      .hero{grid-template-columns: 1fr; }
    }
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    .hero-left{padding:26px}
    .hero-right{padding:18px}
    h1{
      margin:0 0 10px;
      font-size: clamp(28px, 3.6vw, 44px);
      line-height:1.05;
      letter-spacing:-.6px;
    }
    .sub{
      margin:0 0 18px;
      color:var(--muted);
      font-size: 16px;
      max-width: 60ch;
    }
    .badges{display:flex; flex-wrap:wrap; gap:10px; margin: 16px 0 0}
    .badge{
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.03);
      color: rgba(229,231,235,.95);
      font-size: 13px;
    }
    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:14px;
      margin-top:18px;
    }
    @media (max-width: 900px){
      .grid{grid-template-columns: 1fr; }
    }


    /* Fix: в правой колонке пакеты всегда одной колонкой */
#plans{
  grid-template-columns: 1fr !important;
}



    
    .plan{
      padding:18px;
      border-radius: 16px;
      background: rgba(17,24,39,.65);
      border:1px solid var(--border);
      transition: transform .12s ease, border-color .2s ease, background .2s ease;
      cursor:pointer;
      min-height: 160px;
      display:flex; flex-direction:column; justify-content:space-between;
      position:relative;
      overflow:hidden;
    }
    .plan:hover{
      transform: translateY(-2px);
      border-color: rgba(96,165,250,.25);
      background: rgba(17,24,39,.78);
    }
    .plan.selected{
      border-color: rgba(34,197,94,.45);
      box-shadow: 0 18px 45px rgba(0,0,0,.45);
    }
    .plan .name{font-weight:800; font-size:18px; margin:0 0 6px}
    .plan .desc{margin:0; color:var(--muted); font-size:14px}
    .price{
      display:flex; align-items:baseline; justify-content:space-between; gap:12px;
      margin-top:14px;
      font-weight:800;
    }
    .price .val{font-size:24px}
    .price .time{color: var(--muted); font-weight:600; font-size:13px}
    .tag{
      position:absolute; top:12px; right:12px;
      font-size:12px; font-weight:700;
      padding:6px 8px; border-radius:999px;
      border:1px solid var(--border);
      background: rgba(96,165,250,.12);
      color: rgba(229,231,235,.95);
    }

    .section{margin-top:26px}
    .section h2{
      margin:0 0 12px;
      font-size: 22px;
      letter-spacing:-.2px;
    }
    .muted{color:var(--muted)}
    .gallery{
      display:grid;
      grid-template-columns: repeat(6, 1fr);
      gap:10px;
    }
    @media (max-width: 900px){
      .gallery{grid-template-columns: repeat(3, 1fr);}
    }
    .ph{
      aspect-ratio: 1/1;
      border-radius:14px;
      border:1px solid var(--border);
      background:
        radial-gradient(90px 90px at 30% 30%, rgba(96,165,250,.22), transparent 60%),
        radial-gradient(120px 120px at 70% 70%, rgba(34,197,94,.18), transparent 60%),
        rgba(255,255,255,.03);
    }

    .two{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:14px;
    }
    @media (max-width: 900px){
      .two{grid-template-columns: 1fr;}
    }
    .review, .faq{
      padding:16px;
      border:1px solid var(--border);
      border-radius: 16px;
      background: rgba(15,23,42,.55);
    }
    .review b{display:block; margin-bottom:6px}
    details{
      border:1px solid var(--border);
      border-radius: 14px;
      padding: 12px 12px;
      background: rgba(255,255,255,.02);
    }
    details + details{margin-top:10px}
    summary{cursor:pointer; font-weight:700}
    summary::-webkit-details-marker{display:none}

    .form-wrap{
      padding:18px;
      background: rgba(17,24,39,.6);
      border:1px solid var(--border);
      border-radius: 18px;
    }
    form{display:grid; gap:10px}
    label{font-size:13px; color: rgba(229,231,235,.92)}
    input, select{
      width:100%;
      padding:12px 12px;
      border-radius: 12px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.25);
      color:var(--text);
      outline:none;
    }
    input:focus, select:focus{border-color: rgba(96,165,250,.45)}
    .row{display:grid; grid-template-columns: 1fr 1fr; gap:10px}
    @media (max-width: 520px){.row{grid-template-columns: 1fr}}
    .hint{font-size:12px; color:var(--muted)}
    .success{
      display:none;
      margin-top:10px;
      padding:12px 12px;
      border:1px solid rgba(34,197,94,.35);
      background: rgba(34,197,94,.12);
      border-radius: 14px;
      color: rgba(229,231,235,.95);
    }
    footer{
      margin-top:34px;
      color: rgba(156,163,175,.9);
      font-size: 12px;
      text-align:center;
    }
    .kpi{
      display:flex; gap:10px; flex-wrap:wrap; margin-top:14px;
    }
    .kpi .item{
      border:1px solid var(--border);
      background: rgba(255,255,255,.03);
      border-radius: 14px;
      padding:10px 12px;
      font-size:13px;
      color: rgba(229,231,235,.92);
    }
  </style>

  <script>
    // Data Layer init (GTM)
    window.dataLayer = window.dataLayer || [];
  </script>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>BARBER LAB • Дніпро</div>
      </div>
      <div class="top-cta">
        <a class="btn" href="tel:+380630000000" id="phoneTop">Подзвонити</a>
        <a class="btn primary" href="#leadForm">Записатися</a>
      </div>
    </header>

    <section class="hero">
      <div class="card hero-left">
        <h1>Барбершоп у Дніпрі. Запис онлайн за 30 секунд</h1>
        <p class="sub">
          Оберіть пакет, залиште телефон — ми підтвердимо час протягом 10 хвилин.
          Працюємо щодня, центр міста.
        </p>

        <div class="badges">
          <div class="badge">Безкоштовна консультація</div>
          <div class="badge">Майстри 5+ років досвіду</div>
          <div class="badge">Стерильні інструменти</div>
          <div class="badge">Оплата карткою/готівкою</div>
        </div>

        <div class="kpi">
          <div class="item">Середній чек: 700 грн</div>
          <div class="item">Вільні вікна: сьогодні/завтра</div>
          <div class="item">Підтвердження: до 10 хв</div>
        </div>
      </div>

      <aside class="card hero-right">
        <div style="display:flex; justify-content:space-between; align-items:flex-start; gap:10px;">
          <div>
            <h2 style="margin:0 0 6px;">Пакети послуг</h2>
            <div class="muted" style="font-size:14px;">Натисніть на пакет — він підставиться у форму нижче.</div>
          </div>
        </div>

        <div class="grid" id="plans">
          <div class="plan selected" data-package="express" data-value="400" data-title="Express">
            <div>
              <div class="tag">Швидко</div>
              <p class="name">Express</p>
              <p class="desc">Стрижка (30 хв)</p>
            </div>
            <div class="price">
              <div class="val">400 грн</div>
              <div class="time">30 хв</div>
            </div>
          </div>

          <div class="plan" data-package="standard" data-value="700" data-title="Standard">
            <div>
              <div class="tag">Хіт</div>
              <p class="name">Standard</p>
              <p class="desc">Стрижка + борода (60 хв)</p>
            </div>
            <div class="price">
              <div class="val">700 грн</div>
              <div class="time">60 хв</div>
            </div>
          </div>

          <div class="plan" data-package="premium" data-value="1100" data-title="Premium">
            <div>
              <div class="tag">Максимум</div>
              <p class="name">Premium</p>
              <p class="desc">Стрижка + борода + догляд (90 хв)</p>
            </div>
            <div class="price">
              <div class="val">1100 грн</div>
              <div class="time">90 хв</div>
            </div>
          </div>
        </div>

        <div style="margin-top:12px; font-size:12px; color:var(--muted);">
          Подія форми: <b>purchase</b> → dataLayer (value/currency/package).
        </div>
      </aside>
    </section>

    <section class="section">
      <h2>Приклади робіт</h2>
      <div class="gallery" aria-label="Gallery placeholders">
        <div class="ph"></div><div class="ph"></div><div class="ph"></div>
        <div class="ph"></div><div class="ph"></div><div class="ph"></div>
      </div>
    </section>

    <section class="section two">
      <div class="review">
        <b>Влад, 5/5</b>
        <div class="muted">Все чітко по часу, стрижка як хотів. Повернусь.</div>
      </div>
      <div class="review">
        <b>Андрій, 5/5</b>
        <div class="muted">Барбер підказав форму, борода ідеально.</div>
      </div>
      <div class="review">
        <b>Ігор, 5/5</b>
        <div class="muted">Швидко, чисто, якісно. Рекомендую.</div>
      </div>
      <div class="review">
        <b>Максим, 5/5</b>
        <div class="muted">Запис онлайн — зручно. Пакет Standard топ.</div>
      </div>
    </section>

    <section class="section two">
      <div class="faq">
        <h2 style="margin-top:0;">FAQ</h2>
        <details>
          <summary>Як швидко підтверджується запис?</summary>
          <div class="muted" style="margin-top:8px;">Зазвичай до 10 хвилин у робочий час.</div>
        </details>
        <details>
          <summary>Чи можна оплатити карткою?</summary>
          <div class="muted" style="margin-top:8px;">Так, приймаємо картку та готівку.</div>
        </details>
        <details>
          <summary>Де ви знаходитесь?</summary>
          <div class="muted" style="margin-top:8px;">Дніпро, центр. Адресу надішлемо після підтвердження.</div>
        </details>
      </div>

      <div class="form-wrap" id="leadForm">
        <h2 style="margin-top:0;">Записатися</h2>
        <p class="muted" style="margin-top:-6px; font-size:14px;">
          Оберіть пакет і залиште контакт. Це тестова форма для Google Ads з передачею value в dataLayer.
        </p>

        <form id="form">
          <div class="row">
            <div>
              <label for="name">Імʼя</label>
              <input id="name" name="name" type="text" placeholder="Напр., Олег" autocomplete="name" required>
            </div>
            <div>
              <label for="phone">Телефон</label>
              <input id="phone" name="phone" type="tel" placeholder="+380..." autocomplete="tel" required>
              <div class="hint">Формат: +380XXXXXXXXX</div>
            </div>
          </div>

          <div class="row">
            <div>
              <label for="package">Пакет</label>
              <select id="package" name="package" required>
                <option value="express" data-value="400">Express — 400 грн</option>
                <option value="standard" data-value="700">Standard — 700 грн</option>
                <option value="premium" data-value="1100">Premium — 1100 грн</option>
              </select>
            </div>
            <div>
              <label for="time">Зручний час</label>
              <select id="time" name="time" required>
                <option value="today">Сьогодні</option>
                <option value="tomorrow">Завтра</option>
                <option value="weekend">Цими вихідними</option>
              </select>
            </div>
          </div>

          <button class="btn primary" type="submit">Відправити заявку</button>

          <div class="success" id="success">
            Заявку відправлено. Менеджер звʼяжеться з вами найближчим часом (імітація).
          </div>

          <div class="hint">
            Події: <b>purchase</b> (value/currency/package) та <b>phone_click</b>.
          </div>
        </form>

        <div style="margin-top:12px;">
          <a class="btn" href="tel:+380630000000" id="phoneBottom">Подзвонити: +380630000000</a>
        </div>
      </div>
    </section>

    <footer>
      Тестовий сайт для налаштування Google Ads / GA4 / GTM. Дані заявки не відправляються на сервер.
    </footer>
  </div>

  <script>
    // Helpers
    function makeId(prefix="lead") {
      return `${prefix}_${Date.now()}_${Math.random().toString(16).slice(2)}`;
    }

    function getSelectedPlanMeta() {
      const sel = document.querySelector('#package');
      const opt = sel.options[sel.selectedIndex];
      const value = Number(opt.getAttribute('data-value')) || 0;
      const pkg = sel.value;
      const title = opt.textContent.split('—')[0].trim();
      return { value, pkg, title };
    }

    // Click phone -> dataLayer event
    function bindPhoneClick(id) {
      const el = document.getElementById(id);
      if (!el) return;
      el.addEventListener('click', function () {
        window.dataLayer.push({
          event: 'phone_click',
          phone_number: '+380630000000',
          page_type: 'landing',
        });
      });
    }
    bindPhoneClick('phoneTop');
    bindPhoneClick('phoneBottom');

    // Plan cards -> sync select
    const plans = document.getElementById('plans');
    const packageSelect = document.getElementById('package');

    plans.addEventListener('click', (e) => {
      const card = e.target.closest('.plan');
      if (!card) return;

      // UI selection
      document.querySelectorAll('.plan').forEach(p => p.classList.remove('selected'));
      card.classList.add('selected');

      // Sync to select
      const pkg = card.getAttribute('data-package');
      packageSelect.value = pkg;

      // Optional: push event "package_select" (если нужно)
      window.dataLayer.push({
        event: 'package_select',
        package: pkg,
        value: Number(card.getAttribute('data-value')) || 0,
        currency: 'UAH'
      });
    });

    // Select change -> highlight plan card
    packageSelect.addEventListener('change', () => {
      const pkg = packageSelect.value;
      document.querySelectorAll('.plan').forEach(p => {
        p.classList.toggle('selected', p.getAttribute('data-package') === pkg);
      });
    });

    // Form submit -> dataLayer purchase with value
    const form = document.getElementById('form');
    const success = document.getElementById('success');

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      const name = (document.getElementById('name').value || '').trim();
      const phone = (document.getElementById('phone').value || '').trim();
      const time = document.getElementById('time').value;

      const { value, pkg } = getSelectedPlanMeta();
      const leadId = makeId('lead');

      // MAIN: Push conversion event with value to dataLayer
      window.dataLayer.push({
        event: 'purchase',
        lead_id: leadId,
        package: pkg,
        value: value,
        currency: 'UAH',
        user_data: {
          name: name,
          phone: phone
        },
        preferred_time: time
      });

      // UI feedback
      success.style.display = 'block';
      form.querySelector('button[type="submit"]').disabled = true;

      // Imitate "sent" then reset (optional)
      setTimeout(() => {
        form.reset();
        form.querySelector('button[type="submit"]').disabled = false;
        success.style.display = 'none';

        // Return select to default + highlight
        packageSelect.value = 'express';
        document.querySelectorAll('.plan').forEach(p => {
          p.classList.toggle('selected', p.getAttribute('data-package') === 'express');
        });
      }, 1800);
    });
  </script>
</body>
</html>
